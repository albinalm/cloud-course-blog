---
layout: post
title: Azure Scaling
date: 2021-11-06 17:00 -0400
subtitle: Scaling left, right up and down! What does the different directions mean?
categories: [Assignments, Azure, Scaling]
background: '/img/posts/azure-scaling/banner.jpg'
---
<head>
    <link rel="shortcut icon" type="image/x-icon" href="https://techshelter.albin.dev/favicon.png">
</head>

<h1>Introduction</h1> <br>
<h2>What does "Scaling" mean?</h2>
<p>Scaling basically means that the hardware that is powering your service or application increases or decreases in performance depending on your need.
    <br>This might range from network bandwidth to CPU cores. Scaling could also mean just adding more computers to do the work for you.
<br><br>Depending on how you increase/decrease performance, the name of the scaling type will vary. This is to clarify in what way you wish to up- or downscale.
<br>
<h3>Vertical scaling</h3>
<br>
Scaling vertically, <i>Also known as <strong>Scaling up/down</strong></i> basically means improving what you already have. This is most often by adding additional CPU Cores, RAM, Disk space and more. Many times even all at once.<br>
The goal is to resize your capacity without altering any code. There is several benefits of this, with one of them being fast and efficient. Though the major downside is that you are capped at the maximum capacity of the server.
This is proven to be the most cost effective way to scale since when done automatically it just adds the power necessary to meet the demands. Also, it's very straightforward and requires minimal to no configuration on the application service to work.
It's elegant and simple. Just add more sauce.
<br>
<h3>Horizontal scaling</h3>
Scaling vertically, <i>Also known as <strong>Scaling out/in</strong></i> is the art of adding more computers to run the app service. These computers run in a cluster and work in symbiosis to provide data and running your app.
This is quite more complex in nature, but can prove to be a more powerful and a more flexible scaling solution when done right.
Although being more complex, it requires proper knowledge and infrastructure for it to work. It can also take a while to set up, which makes it a bad choice in situations where time matters.<br>
But since you are adding more computers instead of improving existing one(s) you have no performance cap. It can be used as a solution when you have reached the server limit on vertical scaling, or just if you require additional redundancy which is also a very good benefit.<br>
Since several computers work in symbiosis, if one decides to take some vacation - the rest will keep running. This will give you a performance hit, but it will not go down completely.<br>
It's worth noting that using horizontal scaling just for the benefit of redundancy is most often not worth it, since there are several options with many being free in cloud providers that give you redundancy even when scaling vertically.
<br>
<h3>Pricing</h3>
<br>
When it comes to primarily Azure, it isn't necessarily more expensive to horizontal scale than vertical scale. The price for two servers of equal power is mostly the same as doubling the power.
Where the price will differ is when it comes to licensing. Both your OS but also all necessary applications.<br>
<h4>App Service</h4>
The P1V2 App service(Where the P stands for Premium plan, which we'll get to later.) has limited performance with a few(3.5) gigs of RAM, a single CPU core and a Windows OS license will cost us 1367.60 SEK per month, per machine.
While a single P2V2(The big brother with literally double power) costs 2735,2 SEK. It's literally the same as to using two P1V2's.
<br>
In conclusion the price doesn't really matter regarding scalability. You need to pick what is necessary for your use case.
What could be worth noting is that since app service auto scale to a maximum of the capacity above, running a single machine will be cheaper since it will only burst to full power occasionally and therefore only provide additional cost when needed.<br>
Running dual machines will be closer to a fixed amount each month.

</p>
<h6>Thank you for reading!</h6>
<p>/Albin</p>
<p><i>Sources:</i></p>
<a href="https://docs.microsoft.com/en-us/azure/data-explorer/kusto/query/tutorial?pivots=azuremonitor" target="_blank" style="color: cornflowerblue !important;">Tutorial: Use Kusto queries</a>

<br>

<a href="https://docs.microsoft.com/en-us/azure/azure-monitor/app/asp-net-core" target="_blank" style="color: cornflowerblue !important;">Application Insights for ASP.NET Core applications</a>

<br>

<a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging/?view=aspnetcore-5.0" target="_blank" style="color: cornflowerblue !important;">Logging in .NET Core and ASP.NET Core</a>

<br>

<a href="https://docs.microsoft.com/sv-se/azure/azure-monitor/app/ilogger" target="_blank" style="color: cornflowerblue !important;">Program Insights loggning med .NET</a>
