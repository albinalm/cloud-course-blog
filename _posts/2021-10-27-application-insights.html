---
layout: post
title: Monitoring with Azure Insights
date: 2021-10-27 17:00 -0400
subtitle: Forget other tools, being a stalker is now way easier! For your apps of course...
categories: [Assignments, Azure, Monitoring]
background: '/img/posts/application_insights/banner.jpg'
---
<head>
    <link rel="shortcut icon" type="image/x-icon" href="https://techshelter.albin.dev/favicon.png">
</head>

<h1>Introduction</h1> <br>
<h2>What is application insights?</h2>
<p>Application insights is a feature in Azure that you can use to trace application events. The monitoring both catches error messages thrown client-side but also server-side.<br>
    You can add this monitoring service to basically all your Azure apps and also use Microsoft own query language called "Kusto Queries" to make interactive charts and filter your messages and errors.
</p>
<h3>Adding Appliation insights to an Azure Function</h3>
<p>For this demonstration i baked a web-app together with an azure function using old code. It's a basic calculator in ASP.NET that uses SignalR to update the GUI and an Azure Function to make the calculation.</p>
<img src="https://techshelter.albin.dev/img/posts/application_insights/01.jpg"><br>
<p>But what is interesting is that you can use the existing ILogger instance to send information that Application Insight will automatically pick up without any configuration.<br>
<strong>First of all</strong> add logging to your existing function. My logging looks like this:
<br>
<img src="https://techshelter.albin.dev/img/posts/application_insights/02.jpg"><br><br>
I purposely decided to only log my errors to keep the log as clean as possible. But you can log everything from errors, warnings or just information. <br>
Depending if you just log a message, warning or error they get different severityLevels that you can use to filter them out, but more on that later.
<br><br>
Now that you have logging activated publish your function app through GitHub or Visual Studio. I used a CI Pipeline through GitHub to publish mine. <br>
When you can access the function in the Azure Portal you can activate logging by being on the function overview and going to the <strong>"Application Insights"</strong> tab. <br>
<a href="https://techshelter.albin.dev/img/posts/application_insights/03.jpg" target="_blank" style="color: cornflowerblue !important;">Image here!</a>
</p><br>

<br>
<br>
<h6>Thank you for reading!</h6>
<p>/Albin</p>
<p><i>Sources:</i></p>